(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{370:function(t,a,s){"use strict";s.r(a);var e=s(44),n=Object(e.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"快速上手"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#快速上手"}},[t._v("#")]),t._v(" 快速上手")]),t._v(" "),s("h2",{attrs:{id:"安装"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#安装"}},[t._v("#")]),t._v(" 安装")]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("Node 版本要求")]),t._v(" "),s("p",[t._v("建议 Node.js v10 以上。你可以使用 n，nvm 或 nvm-windows 在同一台电脑中管理多个 Node 版本。")])]),t._v(" "),s("p",[t._v("可以使用下列任一命令安装这个新的包：")]),t._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" -g otitan-cli\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# OR")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("yarn")]),t._v(" global "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),t._v(" otitan-cli\n")])])]),s("p",[t._v("安装之后，你就可以在命令行中访问 "),s("code",[t._v("otitan")]),t._v(" 命令。你可以通过简单运行 "),s("code",[t._v("otitan")]),t._v("，看看是否展示出了一份所有可用命令的帮助信息，来验证它是否安装成功。")]),t._v(" "),s("h2",{attrs:{id:"必要的配置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#必要的配置"}},[t._v("#")]),t._v(" 必要的配置")]),t._v(" "),s("p",[t._v("因为流程中涉及到在Gitlab中创建仓库，和在Jenkins中创建任务，这些操作都需要权限认证。\n"),s("strong",[t._v("在使用本工具之前，你必须提前设置一些参数以便于在整个流程中有权限进行任何操作。")]),t._v("\n工具中已经针对公司的现实环境预设了一些参数的默认值，除非Gitlab和Jenkins环境变了，否则这些参数应该不需要修改。\n已经预设的参数和值如下所示：")]),t._v(" "),s("div",{staticClass:"language-ini extra-class"},[s("pre",{pre:!0,attrs:{class:"language-ini"}},[s("code",[s("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("repository")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("gitlab")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("repositoryProtocol")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("http")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("repositoryHostname")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("192.168.0.17")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("repositoryPort")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("80")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("repositoryApiBaseURL")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("/api/v4")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("jenkinsHostname")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("192.168.0.12")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("projectHostUsername")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("root")]),t._v("\n")])])]),s("p",[s("strong",[t._v("需要设置的参数如下：")])]),t._v(" "),s("div",{staticClass:"language-ini extra-class"},[s("pre",{pre:!0,attrs:{class:"language-ini"}},[s("code",[s("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("namespace")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("xxxxxx")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("gitlabAPIToken")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("xxxxxx")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("jenkinsUser")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("xxxxxx")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("jenkinsAPIToken")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("xxxxxx")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("projectHostname")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("192.168.0.18")]),t._v("\n")])])]),s("p",[t._v("你可以在"),s("RouterLink",{attrs:{to:"/config/"}},[t._v("这里")]),t._v("查阅每个参数的相关信息及获取方式，设置完这些参数后就可以享用"),s("code",[t._v("otitan create")]),t._v("命令提供的所有功能了。")],1),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("~/.otitanrc")]),t._v(" "),s("p",[t._v("所有通过 "),s("code",[t._v("otitan config --set")]),t._v(" 设置的参数均会以"),s("code",[t._v("ini")]),t._v("格式存储在用户的 home 目录下一个名为 "),s("code",[t._v(".otitanrc")]),t._v(" 的文件里。\n你可以通过 "),s("code",[t._v("otitan config")]),t._v(" 命令修改这些参数，也可以直接编辑 "),s("code",[t._v("~/.otitanrc")]),t._v(" 这个文件来修改这些参数。")])]),t._v(" "),s("h2",{attrs:{id:"使用"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#使用"}},[t._v("#")]),t._v(" 使用")]),t._v(" "),s("h3",{attrs:{id:"otitan-create"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#otitan-create"}},[t._v("#")]),t._v(" otitan create")]),t._v(" "),s("div",{staticClass:"custom-block warning"},[s("p",{staticClass:"custom-block-title"},[t._v("警告")]),t._v(" "),s("p",[t._v("在使用本工具之前，你必须提前设置所有无默认值的参数。")])]),t._v(" "),s("p",[t._v("运行以下命令来创建一个新项目：")]),t._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[t._v("otitan create demo-project\n")])])]),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("提醒")]),t._v(" "),s("ul",[s("li",[t._v("otitan-cli有创建Jenkins任务的功能，任务的制品目前只支持部署在 "),s("code",[t._v("Linux")]),t._v(" 服务器中，otitan-cli目前还不支持部署制品到 "),s("code",[t._v("Windows Server")]),t._v(" 服务器。")]),t._v(" "),s("li",[t._v("推荐使用的命令行工具"),s("a",{attrs:{href:"https://cmder.net/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Cmder"),s("OutboundLink")],1),t._v("，比 "),s("code",[t._v("cmd")]),t._v(" 和 "),s("code",[t._v("git bash")]),t._v(" 好用很多哦。退而求其次的话，"),s("code",[t._v("IntelliJ IDEA")]),t._v("和"),s("code",[t._v("Vscode")]),t._v("自带的终端工具也还行。")])])])])}),[],!1,null,null,null);a.default=n.exports}}]);